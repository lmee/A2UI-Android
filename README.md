# A2UI: Agent-to-User Interface

[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Android](https://img.shields.io/badge/Platform-Android-green.svg)](https://developer.android.com)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9.22-blue.svg)](https://kotlinlang.org)
[![API](https://img.shields.io/badge/API-21%2B-brightgreen.svg)](https://android-arsenal.com/api?level=21)

> ğŸš€ **This is a fork of [google/A2UI](https://github.com/google/A2UI) with a complete Android Jetpack Compose Renderer implementation.**

<p align="center">
  <img src="docs/assets/a2ui_gallery_examples.png" alt="Gallery of A2UI components" height="300">
</p>

## ğŸŒŸ What is A2UI-Android?

**A2UI-Android** is a powerful, production-ready Android rendering engine for the [A2UI Protocol](https://github.com/google/A2UI) that enables your Android apps to dynamically render beautiful, interactive user interfaces generated by AI agents. 

Imagine your AI assistant being able to create rich, native Android UIs on-the-fly instead of just text responses - forms with validation, data dashboards, interactive cards, and more. That's what A2UI-Android makes possible!

### ğŸ¯ Why Choose A2UI-Android?

| ğŸ¤– **AI-Powered UIs** | ğŸ”’ **Secure by Design** | âš¡ **High Performance** |
|:---:|:---:|:---:|
| Let AI agents generate native Android interfaces dynamically | Declarative JSON format - no arbitrary code execution | Optimized with `rememberSaveable`, lazy rendering, and smart recomposition |

| ğŸ¨ **Fully Customizable** | â™¿ **Accessible** | ğŸ“± **Wide Compatibility** |
|:---:|:---:|:---:|
| Dynamic themes, colors, dark mode, custom components | WCAG A compliant with full TalkBack support | Android 5.0+ (API 21) - covers 99%+ of devices |

### âœ¨ Feature Highlights

- **20+ Ready-to-Use Components**: Text, Button, TextField, Card, List, Modal, Tabs, Slider, DatePicker, and more
- **Smart Data Binding**: Two-way binding with path expressions (`/user/profile/name`)
- **Built-in Validation**: Email, URL, phone, regex, length, required fields - all out of the box
- **Real-time Updates**: WebSocket and SSE transport for live UI updates from agents
- **State Persistence**: Survives configuration changes, process death, and screen rotations
- **Beautiful Animations**: Smooth transitions and modal animations built-in
- **Comprehensive Testing**: 49+ unit tests with 100% core functionality coverage

### ğŸ“± Supported Components

```
Text â€¢ Button â€¢ TextField â€¢ CheckBox â€¢ Switch â€¢ Slider
ChoicePicker â€¢ Dropdown â€¢ Card â€¢ Row â€¢ Column â€¢ List
Tabs â€¢ Modal â€¢ Image â€¢ Icon â€¢ Divider â€¢ Spacer
ProgressBar â€¢ DateTimeInput â€¢ Video â€¢ AudioPlayer â€¢ Surface
```

### ğŸƒ Quick Start

```kotlin
@Composable
fun A2UIScreen() {
    val renderer = rememberA2UIRenderer()
    
    // Process A2UI message
    renderer.processMessage("""
        {
            "version": "v0.10",
            "createSurface": {
                "surfaceId": "hello",
                "catalogId": "https://a2ui.org/catalog.json"
            }
        }
    """)
    
    // Render UI
    A2UISurface(surfaceId = "hello")
}
```

### ğŸ“¦ Installation

Add the compose module to your project:

```kotlin
// settings.gradle.kts
include(":android_compose")

// build.gradle.kts
dependencies {
    implementation(project(":android_compose"))
}
```

### ğŸ“– Full Documentation

See [android_compose/README.md](android_compose/README.md) for complete documentation including:
- Architecture overview
- Component reference
- Theme customization
- Network integration
- Error handling
- Testing guide

---

## ğŸ“‹ Project Overview

A2UI is an open standard and set of libraries that allows agents to "speak UI." Agents send a declarative JSON format describing the *intent* of the UI. The client application then renders this using its own native component library.

### Why A2UI?

- **Security First**: Declarative data format, not executable code
- **LLM-Friendly**: Flat component list, easy for LLMs to generate incrementally
- **Framework-Agnostic**: Same JSON payload renders on multiple platforms
- **Flexibility**: Open registry pattern for custom components

### Available Renderers

| Platform | Status | Location |
|----------|--------|----------|
| **Android (Compose)** | âœ… Complete | [android_compose/](android_compose/) |
| **Web (Lit)** | âœ… Available | renderers/lit/ |
| **Flutter** | âœ… Available | [GenUI SDK](https://github.com/flutter/genui) |
| **React** | ğŸ”œ Planned | - |
| **iOS (SwiftUI)** | ğŸ”œ Planned | - |

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   A2UI Agent    â”‚â”€â”€â”€â”€â–¶â”‚    Transport    â”‚â”€â”€â”€â”€â–¶â”‚    Renderer     â”‚
â”‚   (Backend)     â”‚     â”‚  WebSocket/SSE  â”‚     â”‚   (Compose)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                               â”‚
        â”‚  JSON Message                                 â”‚
        â–¼                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  {                                                              â”‚
â”‚    "version": "v0.10",                                          â”‚
â”‚    "createSurface": { "surfaceId": "main", ... },               â”‚
â”‚    "updateComponents": { "components": [...] }                  â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Getting Started

### Prerequisites

- Android Studio Hedgehog (2023.1.1) or later
- Android SDK 21+ (Android 5.0 Lollipop)
- Kotlin 1.9.22
- JDK 17

### Running the Android Demo

1. **Clone the repository:**
   ```bash
   git clone https://github.com/lmee/A2UI-Android.git
   cd A2UI-Android
   ```

2. **Open in Android Studio:**
   - Open Android Studio
   - Select "Open an existing project"
   - Navigate to the cloned directory

3. **Run the app:**
   - Select a device or emulator
   - Click "Run" or press `Shift+F10`

### Running the Web Demo (Original)

For the original web-based demo:

```bash
# Set API key
export GEMINI_API_KEY="your_gemini_api_key"

# Run Agent
cd samples/agent/adk/restaurant_finder
uv run .

# Run Client (new terminal)
cd renderers/web_core && npm install && npm run build
cd ../lit && npm install && npm run build
cd ../../samples/client/lit/shell && npm install && npm run dev
```

---

## ğŸ“ Project Structure

```
A2UI/
â”œâ”€â”€ android_compose/            # ğŸ†• Android Compose Renderer
â”‚   â”œâ”€â”€ src/main/java/org/a2ui/compose/
â”‚   â”‚   â”œâ”€â”€ data/              # Data model & processing
â”‚   â”‚   â”œâ”€â”€ rendering/         # Core renderer & components
â”‚   â”‚   â”œâ”€â”€ transport/         # Network layer (WebSocket/SSE)
â”‚   â”‚   â”œâ”€â”€ theme/             # Theme customization
â”‚   â”‚   â”œâ”€â”€ error/             # Error handling
â”‚   â”‚   â””â”€â”€ example/           # Demo application
â”‚   â”œâ”€â”€ src/test/              # Unit tests (49 tests)
â”‚   â”œâ”€â”€ build.gradle.kts       # Build configuration
â”‚   â””â”€â”€ README.md              # Full documentation
â”œâ”€â”€ renderers/
â”‚   â”œâ”€â”€ web_core/              # Web core library
â”‚   â””â”€â”€ lit/                   # Lit renderer
â”œâ”€â”€ samples/
â”‚   â”œâ”€â”€ agent/                 # Agent examples
â”‚   â””â”€â”€ client/                # Client examples
â”œâ”€â”€ docs/                      # Documentation
â””â”€â”€ specification/             # A2UI specification
```

---

## ğŸ”§ Android Compose Features

### Component Example

```kotlin
// Define UI via JSON
val message = """
{
    "version": "v0.10",
    "updateComponents": {
        "surfaceId": "form",
        "components": [
            {
                "id": "email_field",
                "component": "TextField",
                "label": "Email",
                "value": { "path": "/form/email" },
                "required": true,
                "checks": [
                    { "call": "email", "message": "Invalid email format" }
                ]
            },
            {
                "id": "submit_btn",
                "component": "Button",
                "text": "Submit",
                "action": { "event": { "name": "submit_form" } }
            }
        ]
    }
}
"""
```

### Theme Customization

```kotlin
val themeConfig = A2UIThemeConfig(
    primaryColor = "#6200EE",
    secondaryColor = "#03DAC6",
    darkMode = false
)

A2UITheme(config = themeConfig) {
    A2UISurface(surfaceId = "main")
}
```

---

## âš ï¸ Status: Early Stage Public Preview

> **Note:** A2UI is currently in **v0.10 (Public Preview)**. The specification and implementations are functional but are still evolving.

---

## ğŸ—ºï¸ Roadmap

- [x] Android Compose Renderer (Complete)
- [ ] React Renderer
- [ ] iOS SwiftUI Renderer
- [ ] REST Transport Support
- [ ] Additional Agent Frameworks (Genkit, LangGraph)

---

## ğŸ¤ Contributing

A2UI is an **Apache 2.0** licensed project. We welcome contributions!

See [CONTRIBUTING.md](CONTRIBUTING.md) for details.

### Development Setup

```bash
# Clone and setup
git clone https://github.com/lmee/A2UI-Android.git
cd A2UI-Android

# Run tests
./gradlew :android_compose:test

# Build
./gradlew :android_compose:build
```

---

## ğŸ“„ License

This project is licensed under the Apache License 2.0 - see the [LICENSE](LICENSE) file for details.

---

## ğŸ”— Links

- **Android Compose Renderer**: [android_compose/README.md](android_compose/README.md)
- **A2UI Specification**: [specification/](specification/)
- **GenUI SDK (Flutter)**: https://github.com/flutter/genui
- **CopilotKit Widget Builder**: https://go.copilotkit.ai/A2UI-widget-builder

---

**Maintained by the A2UI Community**
